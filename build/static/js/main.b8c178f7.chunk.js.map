{"version":3,"sources":["demos/index.js","index.js","hooks/useHashChange.js"],"names":["demos","Counter","React","lazy","__webpack_require__","e","then","bind","TodoApp","Reducer-TodoApp","ReactDOM","render","_react_16_9_0_react_default","a","createElement","f","route","useBistate","value","updateRoute","useMutate","window","location","hash","slice","useEffect","addEventListener","removeEventListener","name","Target","Fragment","href","_react_16_9_0_react","fallback","Object","keys","map","key","concat","document","getElementById"],"mappings":"2IAEe,IAAAA,EAAA,CACbC,QAASC,IAAMC,KAAK,kBAAMC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,YAC1BC,QAASN,IAAMC,KAAK,kBAAMC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,YAC1BE,kBAAmBP,IAAMC,KAAK,kBAAMC,EAAAC,EAAA,GAAAC,KAAAF,EAAAG,KAAA,aCyCtCG,IAASC,OAAOC,EAAAC,EAAAC,cAvChB,WACE,ICNoCC,EDMhCC,EAAQC,qBAAW,CAAEC,MAAO,KAC5BC,EAAcC,oBAAU,SAAAF,GAC1BF,EAAME,MAAQA,ICRoBH,EDWtB,WACZI,EAAYE,OAAOC,SAASC,KAAKC,MAAM,KCXzCC,oBAAU,WAER,OADAJ,OAAOK,iBAAiB,aAAcX,GAAG,GAClC,WACLM,OAAOM,oBAAoB,aAAcZ,GAAG,KAE7C,CAACA,IDSJU,oBAAU,WACR,IAAIG,EAAOP,OAAOC,SAASC,KAAKC,MAAM,GAClCI,GAAMT,EAAYS,IACrB,IAEH,IAAIC,EAAS7B,EAAMgB,EAAME,QAAU,KAEnC,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAAiB,SAAA,KACElB,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGiB,KAAK,KAAR,YAECF,GACDjB,EAAAC,EAAAC,cAACkB,EAAA,SAAD,CAAUC,SAAS,cACjBrB,EAAAC,EAAAC,cAACe,EAAD,QAGFA,GACAK,OAAOC,KAAKnC,GAAOoC,IAAI,SAAAR,GACrB,OACEhB,EAAAC,EAAAC,cAAA,OAAKuB,IAAKT,GACRhB,EAAAC,EAAAC,cAAA,KAAGiB,KAAI,IAAAO,OAAMV,IAASA,QAQpB,MAASW,SAASC,eAAe","file":"static/js/main.b8c178f7.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default {\r\n  Counter: React.lazy(() => import('./Counter')),\r\n  TodoApp: React.lazy(() => import('./TodoApp')),\r\n  'Reducer-TodoApp': React.lazy(() => import('./Reducer-TodoApp'))\r\n}\r\n","import React, { Suspense, useEffect } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useBistate, useMutate } from 'bistate/react'\r\nimport useHashChange from './hooks/useHashChange'\r\nimport demos from './demos'\r\n\r\n\r\nfunction App() {\r\n  let route = useBistate({ value: '' })\r\n  let updateRoute = useMutate(value => {\r\n    route.value = value\r\n  })\r\n\r\n  useHashChange(() => {\r\n    updateRoute(window.location.hash.slice(1))\r\n  })\r\n\r\n  useEffect(() => {\r\n    let name = window.location.hash.slice(1)\r\n    if (name) updateRoute(name)\r\n  }, [])\r\n\r\n  let Target = demos[route.value] || null\r\n\r\n  return (\r\n    <>\r\n      <h1>\r\n        <a href=\"#\">Index</a>\r\n      </h1>\r\n      {!!Target && (\r\n        <Suspense fallback=\"loading...\">\r\n          <Target />\r\n        </Suspense>\r\n      )}\r\n      {!Target &&\r\n        Object.keys(demos).map(name => {\r\n          return (\r\n            <div key={name}>\r\n              <a href={`#${name}`}>{name}</a>\r\n            </div>\r\n          )\r\n        })}\r\n    </>\r\n  )\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n","import { useEffect } from 'react'\r\n\r\nexport default function useHashChange(f) {\r\n  useEffect(() => {\r\n    window.addEventListener('hashchange', f, false)\r\n    return () => {\r\n      window.removeEventListener('hashchange', f, false)\r\n    }\r\n  }, [f])\r\n}\r\n"],"sourceRoot":""}