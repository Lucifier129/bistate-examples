(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{19:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){var t=e.key,n=e.getter,o=e.setter,u=Object(r.useRef)({key:t,getter:n,setter:o});Object(r.useEffect)(function(){var e=window.sessionStorage.getItem(t);return e&&u.current.setter(JSON.parse(e)),function(){var e=JSON.stringify(u.current.getter());window.sessionStorage.setItem(t,e)}},[]),Object(r.useEffect)(function(){u.current={key:t,getter:n,setter:o}},[t,n,o])}},20:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2);t.mutate=o.mutate,t.remove=o.remove,t.isBistate=o.isBistate;var u=r(n(8));t.createStore=u.default},21:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",function(){return r})},24:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return f});var r=n(21),o=n(4),u=n(0),c=n.n(u),a=n(20),l=n(3),i=n(19);function f(){var e=Object(l.useBireducer)(function(e,t){if("ADD_TODO"===t.type){var n={id:Date.now(),content:e.text.value,completed:!1};e.todos.push(n),e.text.value=""}if("TOGGLE_ALL"===t.type){var r=e.todos.some(function(e){return!e.completed});e.todos.forEach(function(e){e.completed=r})}"SYNC_STORAGE"===t.type&&Object.assign(e,t.payload)},{todos:[],text:{value:""}}),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(i.a)({key:"reducer-todos-json",getter:function(){return n},setter:function(e){return r({type:"SYNC_STORAGE",payload:e})}});var u=function(){if(!n.text.value)return alert("empty content");r({type:"ADD_TODO"})};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(p,{text:n.text,onKeyUp:function(e){"Enter"===e.key&&u()}}),c.a.createElement("button",{onClick:u},"add"),c.a.createElement("button",{onClick:function(){r({type:"TOGGLE_ALL"})}},"toggle-all")),c.a.createElement(s,{todos:n.todos}),c.a.createElement(m,{todos:n.todos}))}function s(e){var t=e.todos;return c.a.createElement("ul",null,t.map(function(e){return c.a.createElement(d,{key:e.id,todo:e})}))}function d(e){var t=e.todo,n=Object(l.useBireducer)(function(e,n){"EDIT"===n.type&&(e.edit.value=!0,e.text.value=t.content),"EDITED"===n.type&&(""===e.text.value?Object(a.remove)(t):(e.edit.value=!1,t.content=e.text.value)),"REMOVE"===n.type&&Object(a.remove)(t),"TOGGLE"===n.type&&(t.completed=!t.completed)},{edit:{value:!1},text:{value:""}}),r=Object(o.a)(n,2),u=r[0],i=r[1],f=function(){i({type:"EDITED"})};return c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){i({type:"REMOVE"})}},"remove"),c.a.createElement("button",{onClick:function(){i({type:"TOGGLE"})}},t.completed?"completed":"active"),u.edit.value&&c.a.createElement(p,{text:u.text,onBlur:f,onKeyUp:function(e){"Enter"===e.key&&f()}}),!u.edit.value&&c.a.createElement("span",{onClick:function(){i({type:"EDIT"})}},t.content))}function p(e){var t=e.text,n=Object(r.a)(e,["text"]),o=Object(l.useMutate)(function(e){t.value=e.target.value});return c.a.createElement("input",Object.assign({type:"text"},n,{onChange:o,value:t.value}))}function m(e){var t=e.todos,n=t.filter(function(e){return!e.completed}),r=t.filter(function(e){return e.completed}),o=Object(l.useMutate)(function(){t.filter(function(e){return e.completed}).forEach(function(e){return Object(a.remove)(e)})});return c.a.createElement("div",null,n.length," item",n.length>1&&"s"," left |"," ",r.length>0&&c.a.createElement("button",{onClick:o},"Clear completed"))}}}]);
//# sourceMappingURL=3.5737d052.chunk.js.map