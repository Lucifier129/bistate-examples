(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{17:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0);function o(e){var t=e.key,n=e.getter,o=e.setter,u=Object(r.useRef)({key:t,getter:n,setter:o});Object(r.useEffect)(function(){var e=window.sessionStorage.getItem(t);e&&u.current.setter(JSON.parse(e));var n=function(){var e=JSON.stringify(u.current.getter());window.sessionStorage.setItem(t,e)};return window.addEventListener("beforeunload",n,!1),function(){n(),window.removeEventListener("beforeunload",n,!1)}},[]),Object(r.useEffect)(function(){u.current={key:t,getter:n,setter:o}},[t,n,o])}},18:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3);t.mutate=o.mutate,t.remove=o.remove,t.isBistate=o.isBistate;var u=r(n(8));t.createStore=u.default},19:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,"a",function(){return r})},22:function(e,t,n){"use strict";n.r(t);var r=n(19);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(i){o=!0,u=i}finally{try{r||null==c.return||c.return()}finally{if(o)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=n(0),a=n.n(u),c=n(18),i=n(1),l=n(17);function f(){var e=o(Object(i.useBireducer)(function(e,t){if("ADD_TODO"===t.type){var n={id:Date.now(),content:e.text.value,completed:!1};e.todos.push(n),e.text.value=""}if("TOGGLE_ALL"===t.type){var r=e.todos.some(function(e){return!e.completed});e.todos.forEach(function(e){e.completed=r})}"SYNC_STORAGE"===t.type&&Object.assign(e,t.payload)},{todos:[],text:{value:""}}),2),t=e[0],n=e[1];Object(l.a)({key:"reducer-todos-json",getter:function(){return t},setter:function(e){return n({type:"SYNC_STORAGE",payload:e})}});var r=function(){if(!t.text.value)return alert("empty content");n({type:"ADD_TODO"})};return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(v,{text:t.text,onKeyUp:function(e){"Enter"===e.key&&r()}}),a.a.createElement("button",{onClick:r},"add"),a.a.createElement("button",{onClick:function(){n({type:"TOGGLE_ALL"})}},"toggle-all")),a.a.createElement(s,{todos:t.todos}),a.a.createElement(p,{todos:t.todos}))}function s(e){var t=e.todos;return a.a.createElement("ul",null,t.map(function(e){return a.a.createElement(d,{key:e.id,todo:e})}))}function d(e){var t=e.todo,n=o(Object(i.useBireducer)(function(e,n){"EDIT"===n.type&&(e.edit.value=!0,e.text.value=t.content),"EDITED"===n.type&&(""===e.text.value?Object(c.remove)(t):(e.edit.value=!1,t.content=e.text.value)),"REMOVE"===n.type&&Object(c.remove)(t),"TOGGLE"===n.type&&(t.completed=!t.completed)},{edit:{value:!1},text:{value:""}}),2),r=n[0],u=n[1],l=function(){u({type:"EDITED"})};return a.a.createElement("li",null,a.a.createElement("button",{onClick:function(){u({type:"REMOVE"})}},"remove"),a.a.createElement("button",{onClick:function(){u({type:"TOGGLE"})}},t.completed?"completed":"active"),r.edit.value&&a.a.createElement(v,{text:r.text,onBlur:l,onKeyUp:function(e){"Enter"===e.key&&l()}}),!r.edit.value&&a.a.createElement("span",{onClick:function(){u({type:"EDIT"})}},t.content))}function v(e){var t=e.text,n=Object(r.a)(e,["text"]),o=Object(i.useMutate)(function(e){t.value=e.target.value});return a.a.createElement("input",Object.assign({type:"text"},n,{onChange:o,value:t.value}))}function p(e){var t=e.todos,n=t.filter(function(e){return!e.completed}),r=t.filter(function(e){return e.completed}),o=Object(i.useMutate)(function(){t.filter(function(e){return e.completed}).forEach(function(e){return Object(c.remove)(e)})});return a.a.createElement("div",null,n.length," item",n.length>1&&"s"," left |"," ",r.length>0&&a.a.createElement("button",{onClick:o},"Clear completed"))}n.d(t,"default",function(){return f})}}]);
//# sourceMappingURL=3.a4f2393f.chunk.js.map