(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{17:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var u=n(0);function a(e){var t=e.key,n=e.getter,a=e.setter,r=Object(u.useRef)({key:t,getter:n,setter:a});Object(u.useEffect)(function(){var e=window.sessionStorage.getItem(t);e&&r.current.setter(JSON.parse(e));var n=function(){var e=JSON.stringify(r.current.getter());window.sessionStorage.setItem(t,e)};return window.addEventListener("beforeunload",n,!1),function(){n(),window.removeEventListener("beforeunload",n,!1)}},[]),Object(u.useEffect)(function(){r.current={key:t,getter:n,setter:a}},[t,n,a])}},18:function(e,t,n){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(3);t.mutate=a.mutate,t.remove=a.remove,t.isBistate=a.isBistate;var r=u(n(8));t.createStore=r.default},19:function(e,t,n){"use strict";function u(e,t){if(null==e)return{};var n,u,a=function(e,t){if(null==e)return{};var n,u,a={},r=Object.keys(e);for(u=0;u<r.length;u++)n=r[u],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(u=0;u<r.length;u++)n=r[u],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",function(){return u})},21:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var u=n(19),a=n(0),r=n.n(a),o=n(18),c=n(1),l=n(17),i={todos:[],text:{value:""},type:{value:"all"}};function s(){var e=Object(c.useBistate)(i),t=Object(c.useMutate)(function(t){Object.assign(e,t)});return Object(l.a)({key:"todos-json",getter:function(){return e},setter:t}),r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{type:e.type,text:e.text,todos:e.todos}),r.a.createElement(v,{todos:e.todos,type:e.type}),r.a.createElement(p,{todos:e.todos}))}function f(e){var t=e.text,n=e.todos,u=e.type,a=Object(c.useMutate)(function(e){u.value=e.target.value}),o=Object(c.useMutate)(function(e){"Enter"===e.key&&i()}),l=Object(c.useMutate)(function(){var e=n.some(function(e){return!e.completed});n.forEach(function(t){t.completed=e})}),i=Object(c.useMutate)(function(){if(!t.value)return alert("empty content");n.push({id:Date.now(),content:t.value,completed:!1}),t.value=""});return r.a.createElement("div",null,r.a.createElement(d,{text:t,onKeyUp:o}),r.a.createElement("button",{onClick:i},"add"),r.a.createElement("button",{onClick:l},"toggle-all"),r.a.createElement("select",{value:u.value,onChange:a},r.a.createElement("option",{value:"all"},"all"),r.a.createElement("option",{value:"active"},"active"),r.a.createElement("option",{value:"completed"},"completed")))}function v(e){var t=e.todos,n=e.type,u=t.filter(function(e){return"all"===n.value||("active"===n.value?!e.completed:"completed"===n.value&&e.completed)});return r.a.createElement("ul",null,u.map(function(e){return r.a.createElement(m,{key:e.id,todo:e})}))}function m(e){var t=e.todo,n=Object(c.useBistate)({value:!1}),u=Object(c.useBistate)({value:""}),a=Object(c.useMutate)(function(){n.value=!n.value,u.value=t.content}),l=Object(c.useMutate)(function(){n.value=!1,""===u.value?Object(o.remove)(t):t.content=u.value}),i=Object(c.useMutate)(function(e){"Enter"===e.key&&l()}),s=Object(c.useMutate)(function(){Object(o.remove)(t)}),f=Object(c.useMutate)(function(){t.completed=!t.completed});return r.a.createElement("li",null,r.a.createElement("button",{onClick:s},"remove"),r.a.createElement("button",{onClick:f},t.completed?"completed":"active"),n.value&&r.a.createElement(d,{text:u,onBlur:l,onKeyUp:i}),!n.value&&r.a.createElement("span",{onClick:a},t.content))}function d(e){var t=e.text,n=Object(u.a)(e,["text"]),a=Object(c.useMutate)(function(e){t.value=e.target.value});return r.a.createElement("input",Object.assign({type:"text"},n,{onChange:a,value:t.value}))}function p(e){var t=e.todos,n=t.filter(function(e){return!e.completed}),u=t.filter(function(e){return e.completed}),a=Object(c.useMutate)(function(){u.forEach(function(e){return Object(o.remove)(e)})});return 0===t.length?null:r.a.createElement("div",null,n.length," item",n.length>1&&"s"," left",u.length>0&&r.a.createElement(r.a.Fragment,null," | ",r.a.createElement("button",{onClick:a},"Clear completed")))}}}]);
//# sourceMappingURL=4.e358524d.chunk.js.map