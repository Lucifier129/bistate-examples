(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{19:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var u=n(0);function r(e){var t=e.key,n=e.getter,r=e.setter,o=Object(u.useRef)({key:t,getter:n,setter:r});Object(u.useEffect)(function(){var e=window.sessionStorage.getItem(t);return e&&o.current.setter(JSON.parse(e)),function(){var e=JSON.stringify(o.current.getter());window.sessionStorage.setItem(t,e)}},[]),Object(u.useEffect)(function(){o.current={key:t,getter:n,setter:r}},[t,n,r])}},20:function(e,t,n){"use strict";var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.mutate=r.mutate,t.remove=r.remove,t.isBistate=r.isBistate;var o=u(n(8));t.createStore=o.default},21:function(e,t,n){"use strict";function u(e,t){if(null==e)return{};var n,u,r=function(e,t){if(null==e)return{};var n,u,r={},o=Object.keys(e);for(u=0;u<o.length;u++)n=o[u],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(u=0;u<o.length;u++)n=o[u],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",function(){return u})},23:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var u=n(21),r=n(4),o=n(0),a=n.n(o),c=n(20),l=n(3),i=n(19);function s(){var e=Object(l.useBistate)({todos:[],text:{value:""}}),t=Object(r.a)(e,1)[0],n=Object(l.useMutate)(function(e){Object.assign(t,e)});Object(i.a)({key:"todos-json",getter:function(){return t},setter:n});var u=Object(l.useMutate)(function(){if(!t.text.value)return alert("empty content");t.todos.push({id:Date.now(),content:t.text.value,completed:!1}),t.text.value=""}),o=Object(l.useMutate)(function(e){"Enter"===e.key&&u()}),c=Object(l.useMutate)(function(){var e=t.todos.some(function(e){return!e.completed});t.todos.forEach(function(t){t.completed=e})});return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(v,{text:t.text,onKeyUp:o}),a.a.createElement("button",{onClick:u},"add"),a.a.createElement("button",{onClick:c},"toggle-all")),a.a.createElement(f,{todos:t.todos}),a.a.createElement(d,{todos:t.todos}))}function f(e){var t=e.todos;return a.a.createElement("ul",null,t.map(function(e){return a.a.createElement(m,{key:e.id,todo:e})}))}function m(e){var t=e.todo,n=Object(l.useBistate)({value:!1}),u=Object(r.a)(n,1)[0],o=Object(l.useBistate)({value:""}),i=Object(r.a)(o,1)[0],s=Object(l.useMutate)(function(){u.value=!u.value,i.value=t.content}),f=Object(l.useMutate)(function(){u.value=!1,""===i.value?Object(c.remove)(t):t.content=i.value}),m=Object(l.useMutate)(function(e){"Enter"===e.key&&f()}),d=Object(l.useMutate)(function(){Object(c.remove)(t)}),b=Object(l.useMutate)(function(){t.completed=!t.completed});return a.a.createElement("li",null,a.a.createElement("button",{onClick:d},"remove"),a.a.createElement("button",{onClick:b},t.completed?"completed":"active"),u.value&&a.a.createElement(v,{text:i,onBlur:f,onKeyUp:m}),!u.value&&a.a.createElement("span",{onClick:s},t.content))}function v(e){var t=e.text,n=Object(u.a)(e,["text"]),r=Object(l.useMutate)(function(e){t.value=e.target.value});return a.a.createElement("input",Object.assign({type:"text"},n,{onChange:r,value:t.value}))}function d(e){var t=e.todos,n=t.filter(function(e){return!e.completed}),u=t.filter(function(e){return e.completed}),r=Object(l.useMutate)(function(){u.forEach(function(e){return Object(c.remove)(e)})});return a.a.createElement("div",null,n.length," item",n.length>1&&"s"," left |"," ",u.length>0&&a.a.createElement("button",{onClick:r},"Clear completed"))}}}]);
//# sourceMappingURL=4.4a1838f9.chunk.js.map